<div>
    <div class="aligner">

        <div class="bigPlay" ng-show="showStart" ng-if="mode !== 'save'">
            <div>
                <a class="playButton" ng-click="startFun();">{{'GOTO_CARNIVAL' | translate}}</a>
                <br/>
                <a class="playButton" ng-click="startFun();">{{'CARNIVALIZE_YOURSELF' | translate}}</a>
                <br/>
                <a class="playButton" href="/editor">{{'CREATE_MASK' | translate}}</a>
            </div>
        </div>

        <div class="messages" ng-show="cameraMsg.msg">
            <i class="icon {{cameraMsg.icon}}"></i>
            <p ng-bind-html="cameraMsg.msg"></p>
        </div>

        <div class="videoBlock" ng-show="showVideo">

            <div class="cover" ng-show="searchMask"></div>

            <div class="changeMask" ng-show="isRunning && mode !== 'save' && masks.length > 1">
                <div class="roundBtn left" ng-click="changeMask(1);"></div>
                <div class="roundBtn right" ng-click="changeMask(-1);"></div>
            </div>

            <div class="controls" ng-show="showControls">
                <div class="control calibrate" ng-click="refreshTracking();" ng-show="isRunning"></div>
                <div class="control image" ng-click="canvasToImage();" ng-show="isRunning && showImage"></div>
                <div class="control mask" ng-show="isRunning"></div>
                <div class="control video" ng-click="canvasToGif();" ng-show="isRunning"></div>
                <div class="videoProgress">
                    <div class="progress" style="width: {{GIFprogress}}">
                        <div class="framesCounter" ng-show="GIFprogress">{{pics}}/10</div>
                    </div>
                </div>
                <div class="control pause" ng-click="stopTracking();"   ng-show="isRunning"></div>
                <div class="control play" ng-click="restartTracking();" ng-hide="isRunning"></div>
                <!-- <div class="control loading"><span class="spinning"></span></div> -->
            </div>
              
            <div id="fullPic" width="640" height="460">
                <video-canvas></video-canvas>
                <overlay-face ng-if="showMask"></overlay-face>
                <video-html5></video-html5>
            </div>
              
            <!-- take the following code off when possible -->
            <canvas id="debug" style="position:absolute; top:0; z-index: 100002; display: none;"></canvas>

        </div>

    </div>

    <div class="aligner" ng-show="selectedMask.credits.length">
        <div class="credits"> 
            CREDITS <span ng-bind-html="selectedMask.credits | linky"></span>
        </div>
    </div>

    <div class="aligner" ng-if="mode === 'save'">
        <div class="formMask">
            <div class="el center">
                <a class="btn" ng-click="goTo('/editor');">{{'MODIFY_MASK' | translate}}</a> 
            </div>

            <div class="el center">
                <div class="radio">
                    <input id="safe" type="radio" ng-model="selectedMask.audience" name="gender" value="1">
                    <label class="xxxA" for="safe">{{'SAFE' | translate}}</label>
                    <input id="rude" type="radio"  ng-model="selectedMask.audience" name="gender" value="2">
                    <label class="xxxB" for="rude">{{'RUDE' | translate}}</label>
                    <input id="nokids" type="radio"  ng-model="selectedMask.audience" name="gender" value="3">
                    <label class="xxxC" for="nokids">{{'ADULT' | translate}}</label>
                    <input id="hardcore" type="radio" ng-model="selectedMask.audience" name="gender" value="4">
                    <label class="xxxD" for="hardcore">{{'XXX' | translate}}</label>     
                </div>
            </div>

            <div ng-show="selectedMask.audience">
                <div class="el center">
                    <input maxlength="100"  type="text" ng-model="selectedMask.tags" ng-list placeholder="{{'PLACEHOLDER_TAGS' | translate}}">
                </div>
                <div class="el center">
                    <input maxlength="100"  type="text" ng-model="selectedMask.credits" placeholder="{{'PLACEHOLDER_CREDITS' | translate}}">
                </div>
                <div class="el center">
                    <div class="wrap">
                        <input maxlength="80" type="email" ng-model="selectedMask.email" placeholder="{{'PLACEHOLDER_MAIL' | translate}}">
                    </div>
                </div>
                <div class="el center">
                    <a class="btn" ng-click="saveMaskOnDB(selectedMask);">{{'SAVE_MASK' | translate}}</a>
                </div>
            </div>
        </div>
    </div>

    <div class="aligner" ng-show="isRunning && mode !== 'save'">
        <a class="playButton" ng-click="goTo('/editor');">{{'CREATE_MASK' | translate}}</a>
    </div>
    
    <div class="aligner" ng-if="mode !== 'save'">
            <br/>
        <div>
            <br/>
            <a ng-click="clearStorage();">clearStorage</a>
        </div>
    </div>

<!--
    <pre style="max-width: 640px;overflow: scroll;font-size: 12px;background: #f1f1f1;word-wrap: break-word; max-height:600px;font-family:monospace;letter-spacing: 1px;">
        {{selectedMask}}
    </pre>
-->


    <div class="aligner">
        <ul class="userImages">
            <li ng-repeat="img in images | orderBy:'ts':true"> <!-- | orderBy:'ts':true -->
                <personal-image></personal-image>
            </li>
        <ul>
    </div>

</div>